gSlideDict = {}
gDestination = -1
gShortCuts = {}

def getInput(fileOrInput):
  global gDestination

  if fileOrInput == "Input":
    gDestination = int(input())
    while True:
      pair = input()
      a, b = pair.split()
      a = int(a)
      b = int(b)
      if a == 0 and b == 0:
        break
      if a in gSlideDict:
        gSlideDict[a].append(b)
      else:
        gSlideDict[a] = [b]

  if fileOrInput == "File":
    f = open("input.txt", "r")
    gDestination = int(f.readline())
    while True:
      pair = f.readline()
      a, b = pair.split()
      a = int(a)
      b = int(b)
      if a == 0 and b == 0:
        break
      if a in gSlideDict:
        gSlideDict[a].append(b)
      else:
        gSlideDict[a] = [b]

def findPaths(dest, currNode):

  if currNode == dest:
    # print("Found end")
    return 1

  if currNode not in gSlideDict:
    return 0
  
  if currNode in gShortCuts:
    return gShortCuts[currNode]

  paths = 0
  for i in gSlideDict[currNode]:
    paths += findPaths(dest, i)
    gShortCuts[currNode] = paths
    # print(i, "T", paths)
  return paths


#----------------main---------------------
getInput("Input")
numPaths = findPaths(gDestination, 1)
#print(gSlideDict)
print(numPaths)
